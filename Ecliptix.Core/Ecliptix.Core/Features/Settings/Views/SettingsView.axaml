<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:Ecliptix.Core.Features.Settings.ViewModels"
             mc:Ignorable="d"
             d:DesignWidth="1200"
             d:DesignHeight="800"
             x:DataType="vm:SettingsViewModel"
             x:Class="Ecliptix.Core.Features.Settings.Views.SettingsView">

    <UserControl.Resources>
        <!-- Almost White Background for Sidebar -->
        <SolidColorBrush x:Key="SidebarBackground" Color="#FEFEFE" />
    </UserControl.Resources>

    <UserControl.Styles>
        <!-- Sidebar Navigation Item -->
        <Style Selector="Button.nav-item">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="12,10" />
            <Setter Property="HorizontalContentAlignment" Value="Left" />
            <Setter Property="CornerRadius" Value="8" />
            <Setter Property="Margin" Value="0,0,0,2" />
            <Setter Property="Cursor" Value="Hand" />
        </Style>
        <Style Selector="Button.nav-item:pointerover">
            <Setter Property="Background" Value="#F0F0F0" />
        </Style>
        <Style Selector="Button.nav-item.selected">
            <Setter Property="Background" Value="#EFEFEF" />
        </Style>

        <!-- Nav Item Text -->
        <Style Selector="TextBlock.nav-text">
            <Setter Property="FontSize" Value="13" />
            <Setter Property="FontWeight" Value="Normal" />
            <Setter Property="Foreground" Value="{DynamicResource OnSurface}" />
            <Setter Property="VerticalAlignment" Value="Center" />
        </Style>

        <!-- Section Header Text -->
        <Style Selector="TextBlock.section-header">
            <Setter Property="FontSize" Value="11" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Foreground" Value="{DynamicResource OnSurfaceVariant}" />
            <Setter Property="Margin" Value="16,16,16,8" />
            <Setter Property="Opacity" Value="0.7" />
        </Style>

        <!-- Section Title -->
        <Style Selector="TextBlock.section-title">
            <Setter Property="FontSize" Value="20" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Foreground" Value="{DynamicResource OnBackground}" />
            <Setter Property="Margin" Value="0,0,0,20" />
        </Style>

        <!-- Settings Card -->
        <Style Selector="Border.settings-card">
            <Setter Property="Background" Value="{DynamicResource Surface}" />
            <Setter Property="CornerRadius" Value="12" />
            <Setter Property="Padding" Value="20" />
            <Setter Property="Margin" Value="0,0,0,16" />
        </Style>

        <!-- Profile Avatar Circle -->
        <Style Selector="Border.avatar-circle">
            <Setter Property="Width" Value="50" />
            <Setter Property="Height" Value="50" />
            <Setter Property="CornerRadius" Value="25" />
            <Setter Property="Background" Value="{DynamicResource Primary}" />
            <Setter Property="BorderBrush" Value="{DynamicResource PrimaryVariant}" />
            <Setter Property="BorderThickness" Value="2" />
        </Style>

        <!-- Profile Name -->
        <Style Selector="TextBlock.profile-name">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="Normal" />
            <Setter Property="Foreground" Value="{DynamicResource OnSurface}" />
        </Style>

        <!-- Profile Mobile -->
        <Style Selector="TextBlock.profile-mobile">
            <Setter Property="FontSize" Value="12" />
            <Setter Property="FontWeight" Value="Light" />
            <Setter Property="Foreground" Value="{DynamicResource OnSurfaceVariant}" />
        </Style>

        <!-- Exit Button -->
        <Style Selector="Button.exit-button">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="12,10" />
            <Setter Property="HorizontalContentAlignment" Value="Left" />
            <Setter Property="CornerRadius" Value="8" />
            <Setter Property="Cursor" Value="Hand" />
        </Style>
        <Style Selector="Button.exit-button:pointerover">
            <Setter Property="Background" Value="#F0F0F0" />
        </Style>
    </UserControl.Styles>

    <Grid ColumnDefinitions="280,*"
          Background="{DynamicResource Background}">

        <!-- Left Sidebar -->
        <Border Grid.Column="0"
                Background="{StaticResource SidebarBackground}"
                Padding="12,16">
            <Grid RowDefinitions="Auto,Auto,*,Auto">

                <!-- Profile Card at Top -->
                <Border Grid.Row="0"
                        Classes="settings-card"
                        Margin="0,0,0,20">
                    <Grid ColumnDefinitions="Auto,*">

                        <!-- Avatar Circle -->
                        <Border Classes="avatar-circle"
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                Margin="0,0,12,0">
                            <PathIcon Data="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
                                      Width="26"
                                      Height="26"
                                      Foreground="White" />
                        </Border>

                        <!-- Profile Info -->
                        <StackPanel Grid.Column="1"
                                    VerticalAlignment="Center"
                                    Spacing="3">
                            <TextBlock Text="{Binding Nickname}"
                                       Classes="profile-name" />
                            <TextBlock Text="{Binding MobileNumber}"
                                       Classes="profile-mobile" />
                        </StackPanel>

                    </Grid>
                </Border>

                <!-- Navigation Items -->
                <StackPanel Grid.Row="1" Spacing="0">

                    <!-- Account Section Header -->
                    <TextBlock Text="ACCOUNT" Classes="section-header" />

                    <!-- Account -->
                    <Button Classes="nav-item selected">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <PathIcon Data="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
                                      Width="16"
                                      Height="16"
                                      Foreground="{DynamicResource OnSurface}" />
                            <TextBlock Text="Account" Classes="nav-text" />
                        </StackPanel>
                    </Button>

                    <!-- Appearance -->
                    <Button Classes="nav-item">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <PathIcon Data="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"
                                      Width="16"
                                      Height="16"
                                      Foreground="{DynamicResource OnSurface}" />
                            <TextBlock Text="Appearance" Classes="nav-text" />
                        </StackPanel>
                    </Button>

                    <!-- Language & Region -->
                    <Button Classes="nav-item">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <PathIcon Data="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"
                                      Width="16"
                                      Height="16"
                                      Foreground="{DynamicResource OnSurface}" />
                            <TextBlock Text="Language &amp; Region" Classes="nav-text" />
                        </StackPanel>
                    </Button>

                    <!-- Security -->
                    <Button Classes="nav-item">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <PathIcon Data="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"
                                      Width="16"
                                      Height="16"
                                      Foreground="{DynamicResource OnSurface}" />
                            <TextBlock Text="Security" Classes="nav-text" />
                        </StackPanel>
                    </Button>

                    <!-- Notifications -->
                    <Button Classes="nav-item">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <PathIcon Data="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"
                                      Width="16"
                                      Height="16"
                                      Foreground="{DynamicResource OnSurface}" />
                            <TextBlock Text="Notifications" Classes="nav-text" />
                        </StackPanel>
                    </Button>

                </StackPanel>

                <!-- Exit Button -->
                <Button Grid.Row="3"
                        Classes="exit-button"
                        Command="{Binding LogoutCommand}">
                    <StackPanel Orientation="Horizontal" Spacing="10">
                        <PathIcon Data="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"
                                  Width="16"
                                  Height="16"
                                  Foreground="{DynamicResource Error}" />
                        <TextBlock Text="Exit"
                                   Classes="nav-text"
                                   Foreground="{DynamicResource Error}" />
                    </StackPanel>
                </Button>

            </Grid>
        </Border>

        <!-- Right Content Area -->
        <ScrollViewer Grid.Column="1"
                      VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled"
                      Padding="32,20">
            <StackPanel MaxWidth="700">

                <!-- Section Title -->
                <TextBlock Text="Account" Classes="section-title" />

                <!-- Content will be added here for different settings sections -->

            </StackPanel>
        </ScrollViewer>

    </Grid>
</UserControl>
