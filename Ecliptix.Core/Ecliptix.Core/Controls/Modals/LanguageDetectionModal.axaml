<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:system="clr-namespace:System;assembly=System.Runtime"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Ecliptix.Core.Controls.Modals.LanguageDetectionModal">
    
    <UserControl.Resources>
        <!-- Layout Dimensions -->
        
        <CornerRadius x:Key="WindowBorderRadius">12</CornerRadius>
        <Color x:Key="ShadowColor">#9966CC</Color>
        
        <x:Double x:Key="ButtonHeight">44</x:Double>
        <x:Double x:Key="InputHeight">78</x:Double>
        <x:Double x:Key="InputFontSize">16</x:Double>
        <x:Double x:Key="WatermarkFontSize">14</x:Double>
        <x:Double x:Key="ButtonFontSize">14</x:Double>
        <x:Double x:Key="TitleFontSize">22</x:Double>
        <x:Double x:Key="SubtitleFontSize">17</x:Double>
        <x:Double x:Key="HeaderMaxWidth">280</x:Double>

        <!-- Spacing -->
        <x:Double x:Key="SectionSpacing">24</x:Double>
        <x:Double x:Key="HeaderSpacing">7</x:Double>
        <x:Double x:Key="ButtonSpacing">10</x:Double>

        <!-- UI Elements -->
        <CornerRadius x:Key="InputCornerRadius">12</CornerRadius>
        <CornerRadius x:Key="ButtonCornerRadius">12</CornerRadius>

        <!-- Button Colors -->
        <Color x:Key="GrayButtonHoverColor">#F5F5F5</Color>
        <Color x:Key="GrayButtonPressedColor">#EEEEEE</Color>
        <Color x:Key="DarkButtonHoverColor">#262626</Color>
        <Color x:Key="DarkButtonPressedColor">#1f1f1f</Color>

        <!-- Animation Durations -->
        <system:TimeSpan x:Key="ButtonTransitionDuration">0:0:0.25</system:TimeSpan>
    </UserControl.Resources>
    
    <UserControl.Styles>
        <!-- Base Button Style -->
        <Style Selector="Button.auth-button">
            <Setter Property="Height" Value="{StaticResource ButtonHeight}" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="FontSize" Value="{StaticResource ButtonFontSize}" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="CornerRadius" Value="{StaticResource ButtonCornerRadius}" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="Background" Duration="{StaticResource ButtonTransitionDuration}"
                                     Easing="CubicEaseOut" />
                    <DoubleTransition Property="Opacity" Duration="{StaticResource ButtonTransitionDuration}"
                                      Easing="CubicEaseOut" />
                </Transitions>
            </Setter>
        </Style>

        <Style Selector="Button.auth-button:pressed">
            <Setter Property="Opacity" Value="0.9" />
        </Style>

        <!-- Recovery Button (Light Gray) -->
        <Style Selector="Button.recovery-button">
            <Setter Property="Background" Value="{DynamicResource BackButtonBackgroundColor}" />
            <Setter Property="Foreground" Value="{DynamicResource LightButtonForegroundColor}" />
        </Style>

        <Style Selector="Button.recovery-button:pointerover">
            <Setter Property="Background" Value="{StaticResource GrayButtonHoverColor}" />
        </Style>

        <Style Selector="Button.recovery-button:pressed">
            <Setter Property="Background" Value="{StaticResource GrayButtonPressedColor}" />
        </Style>

        <!-- Continue Button (Dark) -->
        <Style Selector="Button.continue-button">
            <Setter Property="Background" Value="{DynamicResource DarkButtonColor}" />
            <Setter Property="Foreground" Value="{DynamicResource DarkButtonForegroundColor}" />
        </Style>

        <Style Selector="Button.continue-button:pointerover">
            <Setter Property="Background" Value="{StaticResource DarkButtonHoverColor}" />
        </Style>

        <Style Selector="Button.continue-button:pressed">
            <Setter Property="Background" Value="{StaticResource DarkButtonPressedColor}" />
        </Style>
    </UserControl.Styles>
    
    
    <Border BorderThickness="0">
        <Grid>
            <Border 
                x:Name="InactivityZone"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                Opacity="0.4"
                Background="Gray"
                ZIndex="0"
                CornerRadius="12"
                />
            
            <Border 
                x:Name="MainBorder"
                ZIndex="1"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Width="380"
                Height="200"
                BorderThickness="1"
                Background="White"
                Padding="20"
                CornerRadius="{StaticResource WindowBorderRadius}"
                BoxShadow="0 0 24 4 #9966CC"
                >
                
                <Grid
                    x:Name="ContentGrid"
                    RowDefinitions="Auto, Auto, Auto"
                    RowSpacing="15"
                    >
                    <TextBlock
                        TextWrapping="Wrap"
                        FontSize="{StaticResource TitleFontSize}"
                        LineHeight="28"
                        FontWeight="Normal"
                        HorizontalAlignment="Center"
                        Text="Detected Language Suggestion"
                        /> 
                    <StackPanel 
                        Grid.Row="1"
                        Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Spacing="5">
                        <Svg
                            Path="avares://Ecliptix.Core/Assets/Flags/ukraine_flag.svg"
                            VerticalAlignment="Center"
                            Width="20"
                            Height="20"
                            ClipToBounds="True"
                        />
                        <TextBlock
                            FontSize="{StaticResource SubtitleFontSize}"
                            FontWeight="Normal"
                            Foreground="{DynamicResource TextForegroundColor}"
                            LineHeight="28"
                            HorizontalAlignment="Center"
                            Text="Change to Ukrainian?" />
                    </StackPanel>
                    <Grid
                        Grid.Row="2"
                        ColumnDefinitions="*,*"
                        ColumnSpacing="10">
                        <Button 
                            Grid.Column="0"
                            Content="Cancel"
                            Classes="auth-button recovery-button"
                            />
                        <Button 
                            Grid.Column="1"
                            Content="OK"
                            Classes="auth-button continue-button"/>
                    </Grid>
                    
                </Grid>
            </Border>
        </Grid>
    </Border>
</UserControl>
